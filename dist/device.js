!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.device=t.device||{})}(this,function(t){var e=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i="object"==typeof n&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,s=i||o||Function("return this")(),r=function(){return s.Date.now()},a=s.Symbol,c=Object.prototype,h=c.hasOwnProperty,u=c.toString,d=a?a.toStringTag:void 0,l=function(t){var e=h.call(t,d),n=t[d];try{t[d]=void 0;var i=!0}catch(t){}var o=u.call(t);return i&&(e?t[d]=n:delete t[d]),o},f=Object.prototype.toString,p=function(t){return f.call(t)},m="[object Null]",y="[object Undefined]",b=a?a.toStringTag:void 0,g=function(t){return null==t?void 0===t?y:m:b&&b in Object(t)?l(t):p(t)},w=function(t){return null!=t&&"object"==typeof t},v="[object Symbol]",k=function(t){return"symbol"==typeof t||w(t)&&g(t)==v},C=NaN,T=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,N=/^0o[0-7]+$/i,j=parseInt,A=function(t){if("number"==typeof t)return t;if(k(t))return C;if(e(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=e(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(T,"");var i=O.test(t);return i||N.test(t)?j(t.slice(2),i?2:8):x.test(t)?C:+t},E="Expected a function",P=Math.max,S=Math.min,L=function(t,n,i){function o(e){var n=l,i=f;return l=f=void 0,g=e,m=t.apply(i,n)}function s(t){return g=t,y=setTimeout(h,n),w?o(t):m}function a(t){var e=t-g,i=n-(t-b);return v?S(i,p-e):i}function c(t){var e=t-b,i=t-g;return void 0===b||e>=n||0>e||v&&i>=p}function h(){var t=r();if(c(t))return u(t);y=setTimeout(h,a(t))}function u(t){return y=void 0,k&&l?o(t):(l=f=void 0,m)}function d(){var t=r(),e=c(t);if(l=arguments,f=this,b=t,e){if(void 0===y)return s(b);if(v)return y=setTimeout(h,n),o(b)}return void 0===y&&(y=setTimeout(h,n)),m}var l,f,p,m,y,b,g=0,w=!1,v=!1,k=!0;if("function"!=typeof t)throw new TypeError(E);return n=A(n)||0,e(i)&&(w=!!i.leading,p=(v="maxWait"in i)?P(A(i.maxWait)||0,n):p,k="trailing"in i?!!i.trailing:k),d.cancel=function(){void 0!==y&&clearTimeout(y),g=0,l=b=f=y=void 0},d.flush=function(){return void 0===y?m:u(r())},d},W="Expected a function",U=function(t,n,i){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError(W);return e(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),L(t,n,{leading:o,maxWait:n,trailing:s})},M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},D=function(){function t(t,e){for(var n=0;e.length>n;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),R=null,z=[],F=function(){R&&(clearTimeout(R),R=null)},_=function t(e){if(e&&z.push(e),"undefined"==typeof document)F(),setTimeout(function(){t()},100);else{F();for(var n=0,i=z.length;i>n;n++)z[n](document);z.length=0}},H=function(){return"undefined"!=typeof document?window.navigator.userAgent:""},I=function(t){return RegExp("msie"+(isNaN(t)?"":"\\s"+t),"i").test(navigator.userAgent)},q=function(t,e){var n=void 0;return n=RegExp(e,"i"),t.className.match(n)},B=function(t,e){var n=null;q(t,e)||(n=t.className.replace(/^\s+|\s+$/g,""),t.className=n+" "+e)},G=function(t,e){q(t,e)&&(t.className=t.className.replace(" "+e,""))},J=null,K=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;$(this,t),this.state={addedClasses:!1},this.matchCache={},this.featureCache={},this.classes="",this.setUserAgent(n),this.callback=null,"undefined"!=typeof document||this.userAgent||_(function(){e.setUserAgent()})}return D(t,null,[{key:"device",get:function(){return J||(J=new t),J}}]),t.prototype.match=function(t){return this.matchCache[t]||(this.matchCache[t]=this.userAgent.indexOf(t)>-1),this.matchCache[t]},t.prototype.feature=function(t){return this.featureCache[t]},t.prototype.addFeature=function(t,e){return this.featureCache[t]||(this.featureCache[t]=e),e},t.prototype.setUserAgent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(this.userAgent=t||this.userAgent||H())&&(F(),this.matchCache={},this.userAgent=this.userAgent.toLowerCase())},t.prototype.onOrientationChange=function(t){},t.prototype.getClasses=function(){return this.classes?this.classes:(this.userAgent||this.setUserAgent(),this.classes+=this.landscape?"landscape ":"portrait ",this.touch&&(this.classes+="touch "),this.ios?this.ipad?this.classes+="ios ipad tablet ":this.iphone?this.classes+="ios iphone mobile ":this.ipod&&(this.classes+="ios ipod mobile "):this.android?this.classes+=this.androidTablet?"android tablet ":"android mobile ":this.blackberry?this.classes+=this.blackberryTablet?"blackberry tablet ":"blackberry mobile ":this.windows?this.classes+=this.windowsTablet?"windows tablet ":this.windowsPhone?"windows mobile ":"windows desktop ":this.fxos?this.classes+=this.fxosTablet?"fxos tablet ":"fxos mobile ":this.meego?this.classes+="meego mobile ":this.nodeWebkit?this.classes+="node-webkit ":this.television?this.classes+="television ":this.desktop&&(this.classes+="desktop "),this.cordova&&(this.classes+="cordova "),!this.desktop&&this.deviceorientation&&(this.classes+="deviceorientation "),this.classes=this.classes.slice(0,-1))},t.prototype.addClasses=function(t){if(!this.targetNode){if(this.targetNode=t,t||"undefined"==typeof document||(this.targetNode=document.documentElement),!this.targetNode)return;this.userAgent||this.setUserAgent(),this.commitClasses(),this.addListener()}},t.prototype.addListener=function(){var t=this;if(!this.hasListener){this.hasListener=!0,this.handleOrientation=this.handleOrientation.bind(this),this.onResize=U(this.handleOrientation,200);var e=function(){setTimeout(function(){t.handleOrientation()},10)};"onorientationchange"in window?window.addEventListener("orientationchange",e,!1):window.addEventListener("resize",this.onResize,!1),e()}},t.prototype.handleOrientation=function(){this.onOrientationChange(this.landscape),this.targetNode&&(this.landscape?(G(this.targetNode,"portrait"),B(this.targetNode,"landscape")):(G(this.targetNode,"landscape"),B(this.targetNode,"portrait")))},t.prototype.commitClasses=function(){!this.state.addedClasses&&this.targetNode&&(this.state.addedClasses=!0,this.targetNode.className+=this.getClasses())},D(t,[{key:"features",get:function(){return{wheelEvent:this.feature("wheelEvent")||this.addFeature("wheelEvent","onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll")}}},{key:"deviceorientation",get:function(){return this.canOrientate||(this.canOrientate="ondeviceorientation"in window||"deviceorientation"in window),!this.desktop&&this.canOrientate}},{key:"ie9",get:function(){return this.matchCache.ie9||"undefined"!=typeof document&&(this.matchCache.ie9=this.windows&&I(10)),this.matchCache.ie9||!1}},{key:"touch",get:function(){return this.matchCache.touch||"undefined"!=typeof document&&(this.matchCache.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),this.matchCache.touch||!1}},{key:"ios",get:function(){return this.iphone||this.ipod||this.ipad}},{key:"iphone",get:function(){return!this.windows&&this.match("iphone")}},{key:"ipod",get:function(){return this.match("ipod")}},{key:"ipad",get:function(){return this.match("ipad")}},{key:"android",get:function(){return!this.windows&&this.match("android")}},{key:"androidPhone",get:function(){return this.android&&this.match("mobile")}},{key:"androidTablet",get:function(){return this.android&&!this.match("mobile")}},{key:"blackberry",get:function(){return this.match("blackberry")||this.match("bb10")||this.match("rim")}},{key:"blackberryPhone",get:function(){return this.blackberry&&!this.match("tablet")}},{key:"blackberryTablet",get:function(){return this.blackberry&&this.match("tablet")}},{key:"windows",get:function(){return this.match("windows")}},{key:"ie10",get:function(){return this.matchCache.ie10||"undefined"!=typeof document&&(this.matchCache.ie10=this.windows&&I(10)),this.matchCache.ie10||!1}},{key:"windowsPhone",get:function(){return this.windows&&this.match("phone")}},{key:"windowsTablet",get:function(){return this.windows&&this.match("touch")&&!this.windowsPhone}},{key:"fxos",get:function(){return(this.match("(mobile;")||this.match("(tablet;"))&&this.match("; rv:")}},{key:"fxosPhone",get:function(){return this.fxos&&this.match("mobile")}},{key:"fxosTablet",get:function(){return this.fxos&&this.match("tablet")}},{key:"meego",get:function(){return this.match("meego")}},{key:"cordova",get:function(){return window.cordova&&"file:"===location.protocol}},{key:"nodeWebkit",get:function(){return"object"===M(window.process)}},{key:"mobile",get:function(){return this.androidPhone||this.iphone||this.ipod||this.windowsPhone||this.blackberryPhone||this.fxosPhone||this.meego}},{key:"tablet",get:function(){return this.ipad||this.androidTablet||this.blackberryTablet||this.windowsTablet||this.fxosTablet}},{key:"desktop",get:function(){return!this.tablet&&!this.mobile}},{key:"television",get:function(){var t=void 0,e=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","roku","pov_tv","hbbtv","ce-html"];for(t=0;15>t++;)if(this.match(e[t]))return!0;return!1}},{key:"portrait",get:function(){return"orientation"in window?0===window.orientation:"undefined"!=typeof window&&window.innerHeight/window.innerWidth>1}},{key:"landscape",get:function(){return"undefined"!=typeof window&&("orientation"in window?0!==window.orientation:1>window.innerHeight/window.innerWidth)}}]),t}(),Q=new K;t.device=Q,t.default=K,Object.defineProperty(t,"__esModule",{value:!0})});
